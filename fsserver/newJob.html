<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <script type="text/javascript">
    function NewJob() {
        var jobInfo = {
            "name": "flatMapExample",
            "jtype": "maponly",
            "host": "http://localhost:4049/upload",
            "dir": "flatMapJob/output",
            "program": "http://localhost:4049/download?url=flatMapJob/flatMapExample.js",
            "inputs": [
                "http://localhost:4049/download?url=flatMapJob/input/part-1",
                "http://localhost:4049/download?url=flatMapJob/input/part-2",
                "http://localhost:4049/download?url=flatMapJob/input/part-3",
                "http://localhost:4049/download?url=flatMapJob/input/part-4"
            ],
            "reduce_num": 0
        };
        var ws = new WebSocket("ws://localhost:2411")
        var msg = {
            status: "success",
            message: "",
            action: "register job",
            data: jobInfo
        }
        ws.onopen = function () {
            ws.send(JSON.stringify(msg))
        }
    }
    </script>
</head>
<body>
    <input type="button" id="upload" value="New Job" onclick="NewJob()"> 
</body>
</html>